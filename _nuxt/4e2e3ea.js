(window.webpackJsonp=window.webpackJsonp||[]).push([[70,40,42],{1201:function(t,e,n){"use strict";n.r(e);var r=n(192),l=n(306),o=n(143),d=n(811),c=n(819),f=n(796),m=n(309),h=n(300),y=n(810),v=n(806),_=n(100),x=n(14),S=n(28),L=(n(88),n(25),n(6),n(8),n(171),n(20),n(35),n(39),{meta:{title:"Profile Settings"},layout:"dashboard",data:function(){return{delLangDialog:!1,delLoading:!1,cityLoader:null,timezones:Intl.supportedValuesOf("timeZone"),countries:[],cities:[],levels:["Basic","Conversational","Fluent","Native"],formLanguage:[{id:null,level:null}],form:{email:"",first_name:"",last_name:"",birthday:"",mobile:"",phone:{number:"",valid:!1,country:void 0},country:"",country_id:"",city:"",city_name:"",language:[{id:null,level:null}],timezone:"",custom_profile_url:""},menu1:!1,errors:null,loading:!1}},methods:{syncCity:function(t){this.form.city_name=t.name,console.log("syncCity says: city = ",t)},submit:function(){var t=this;return Object(S.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={email:t.form.email,first_name:t.form.first_name,last_name:t.form.last_name,birthday:t.form.birthday,mobile:t.form.mobile,country_id:t.form.country_id,city_name:t.form.city_name,timezone:t.form.timezone,language:[]},t.formLanguage.forEach((function(t){n.language.push({id:t.language_id,level:t.level})})),t.loading=!0,e.prev=3,e.next=6,t.$axios.post("student/profile/store",n);case 6:r=e.sent,t.$toasted.global.successMsg(r.data.message),console.log("saving data succeeded and response is = ",r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),t.errors=t.catchException(e.t0);case 14:return e.prev=14,t.loading=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,11,14,17]])})))()},addLang:function(){this.formLanguage.push({id:"",level:""})},delLang:function(t){var e=this,n=this.formLanguage[t];this.delLoading=!0,this.$axios.$delete("/teacher/profile/teacher_language/".concat(n.id)).then((function(n){e.formLanguage.splice(t,1),e.$toasted.global.successMsg(n.data.message)})).catch((function(t){return e.errors=e.catchException(t)})).finally((function(){e.delLoading=!1,e.delLangDialog=!1}))},onInput:function(t,e){var n=e.number,r=e.valid,l=e.country;this.form.phone.number=n.international,this.form.mobile=Number(n.significant),this.form.phone.valid=r,this.form.phone.country=l&&l.name},getCities:function(t){var e=this;return Object(S.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.cityLoader=!0,n.prev=1,n.next=4,e.$axios.get("get/city?id=".concat(t));case 4:return r=n.sent,e.cities=r.data.object,e.cityLoader=!1,n.abrupt("return",r);case 10:n.prev=10,n.t0=n.catch(1),e.errors=e.catchException(n.t0);case 13:case"end":return n.stop()}}),n,null,[[1,10]])})))()}},asyncData:function(t){return Object(S.a)(regeneratorRuntime.mark((function e(){var n,r,l,o,d,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$axios,e.prev=1,e.next=4,Promise.all([n.get("get/country"),n.get("get/language")]);case 4:return r=e.sent,l=Object(x.a)(r,2),o=l[0],d=l[1],c=[],d.data.object.forEach((function(t){c.push(t)})),e.abrupt("return",{countries:o.data.object,langs:c});case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})))()},fetch:function(){var t=this;this.$axios.get("student/profile/store").then((function(e){if(console.log("accountSettings.vue : fetch() says: response = ",e),console.log("accountSettings.vue : fetch() says: response.data.object.mobile = ",e.data.object.mobile),t.form={email:e.data.object.email,first_name:e.data.object.first_name,last_name:e.data.object.last_name,birthday:e.data.object.profile.birthday,phone:{number:"+"+e.data.object.mobile,valid:!0},mobile:e.data.object.mobile,country:e.data.object.profile.country_id,country_id:e.data.object.profile.country_id,city:null,city_name:e.data.object.profile.city_name,timezone:e.data.object.profile.timezone,custom_profile_url:e.data.object.slug},e.data.object.language.length>0?(t.formLanguage=[],e.data.object.language.forEach((function(e){t.formLanguage.push({id:e.id,language_id:e.language_id,level:e.level})}))):t.formLanguage=[{id:null,level:null}],e.data.object.profile.country_id)return t.getCities(e.data.object.profile.country_id)})).then((function(e){t.cities.forEach((function(e){e.name===t.form.city_name?(t.form.city=e,console.log("Success City is found and city = ",e)):console.log("Failed: City is not found and city = ",e)}))})).catch((function(e){t.errors=t.catchException(e)}))}}),C=n(44),component=Object(C.a)(L,(function(){var t=this,e=t._self._c;return e(l.a,{staticClass:"account_settings content pa-4",attrs:{elevation:"1"}},[e("h1",{staticClass:"fs-24 font-weight-medium primary-text mb-10"},[t._v("General Information")]),t._v(" "),e("form-observer",{ref:"formObserver",staticClass:"white rounded",attrs:{"form-class":"row"},on:{submit:t.submit}},[e(d.a,{attrs:{cols:"4"}},[e("text-field",{attrs:{"hide-details":"auto",value:t.form.first_name,type:"text",rules:{required:!0,min:3},topLabel:"First Name"},on:{"update:value":function(e){return t.$set(t.form,"first_name",e)}}})],1),t._v(" "),e(d.a,{attrs:{cols:"4"}},[e("text-field",{attrs:{"hide-details":"auto",value:t.form.last_name,type:"text",rules:{required:!0,min:3},topLabel:"Last Name"},on:{"update:value":function(e){return t.$set(t.form,"last_name",e)}}})],1),t._v(" "),e(d.a,{attrs:{cols:"4"}},[e("text-field",{attrs:{"hide-details":"auto",value:t.form.email,type:"text",rules:{required:!0,email:!0},topLabel:"Email"},on:{"update:value":function(e){return t.$set(t.form,"email",e)}}})],1),t._v(" "),e(d.a,{attrs:{cols:"6"}},[e("label",{staticClass:"mb-1 d-block fs-13"},[t._v("Date of Birth")]),t._v(" "),e(h.a,{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,l=n.attrs;return[e(_.a,t._g(t._b({staticClass:"pt-0",attrs:{readonly:"",outlined:"","hide-details":""},model:{value:t.form.birthday,callback:function(e){t.$set(t.form,"birthday",e)},expression:"form.birthday"}},"v-text-field",l,!1),r))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[t._v(" "),e(c.a,{on:{input:function(e){t.menu1=!1}},model:{value:t.form.birthday,callback:function(e){t.$set(t.form,"birthday",e)},expression:"form.birthday"}})],1)],1),t._v(" "),e(d.a,{attrs:{cols:"6"}},[e("label",{staticClass:"mb-1 d-block fs-13"},[t._v("Mobile Number (optional, +5pt)")]),t._v(" "),e("vue-tel-input-vuetify",{attrs:{label:"",value:t.form.phone.number,"valid-characters-only":!0},on:{input:t.onInput}})],1),t._v(" "),e(d.a,{attrs:{cols:"3"}},[e("label",{staticClass:"mb-1 d-block fs-13",attrs:{for:""}},[t._v("Country")]),t._v(" "),e("select-field",{attrs:{value:t.form.country_id,rules:{required:!0},items:t.countries},on:{"update:value":function(e){return t.$set(t.form,"country_id",e)},hasChanged:function(e){return t.getCities(e)}}})],1),t._v(" "),e(d.a,{attrs:{cols:"3"}},[e("label",{staticClass:"mb-1 d-block fs-13",attrs:{for:""}},[t._v("City")]),t._v(" "),e("select-field",{attrs:{value:t.form.city,rules:{required:!0},items:t.cities,isLoading:t.cityLoader,returnObject:!0},on:{"update:value":function(e){return t.$set(t.form,"city",e)},hasChanged:function(e){return t.syncCity(e)}}})],1),t._v(" "),e(d.a,{attrs:{cols:"6"}},t._l(t.formLanguage,(function(n,c){return e(y.a,{key:"lang-".concat(n.id)},[e(d.a,{attrs:{cols:"6"}},[e("label",{staticClass:"mb-1 d-block fs-13",attrs:{for:""}},[t._v("Languages Spoken")]),t._v(" "),e("select-field",{attrs:{value:n.language_id,rules:{required:!0},items:t.langs,itemText:"language_name"},on:{"update:value":function(e){return t.$set(n,"language_id",e)}}})],1),t._v(" "),e(d.a,[e("label",{staticClass:"mb-1 d-block fs-13",attrs:{for:""}},[t._v("Level")]),t._v(" "),e("select-field",{attrs:{value:n.level,rules:{required:!0},items:t.levels},on:{"update:value":function(e){return t.$set(n,"level",e)}}})],1),t._v(" "),c>0?e(d.a,{staticClass:"d-flex align-center",staticStyle:{"margin-top":"13px"},attrs:{cols:"1"}},[e(r.a,{attrs:{icon:""},on:{click:function(e){t.delLangDialog=!0}}},[e("font-awesome-icon",{attrs:{icon:"fa-solid fa-xmark"}})],1)],1):t._e(),t._v(" "),e(f.a,{attrs:{width:"500"},model:{value:t.delLangDialog,callback:function(e){t.delLangDialog=e},expression:"delLangDialog"}},[e(l.a,[e(o.d,{staticClass:"text-h5 lighten-2"},[t._v("\n                            Are you sure you want to delete this Language ?\n                        ")]),t._v(" "),e(o.c,[t._v("\n                            This will delete this post permanently. You cannot undo this action.\n                        ")]),t._v(" "),e(m.a),t._v(" "),e(o.a,[e(v.a),t._v(" "),e(r.a,{attrs:{color:"secondary",loading:t.delLoading},on:{click:function(e){return t.delLang(c)}}},[t._v("\n                                Delete\n                            ")]),t._v(" "),e(r.a,{attrs:{outlined:""},on:{click:function(e){t.dialog=!1}}},[t._v("\n                                Cancel\n                            ")])],1)],1)],1)],1)})),1),t._v(" "),e(d.a,{attrs:{cols:"12"}},[e(r.a,{staticClass:"d-block ml-auto",attrs:{text:"",color:"primary"},on:{click:function(e){return t.addLang()}}},[t._v("\n                Add another language\n            ")])],1),t._v(" "),e(d.a,{attrs:{cols:"6"}},[e("label",{staticClass:"mb-1 d-block fs-13 font-weight-medium",attrs:{for:""}},[t._v("Time Zone")]),t._v(" "),e("combox-field",{attrs:{value:t.form.timezone,rules:{tzValidator:t.timezones},items:t.timezones},on:{"update:value":function(e){return t.$set(t.form,"timezone",e)}}})],1),t._v(" "),e(d.a,{attrs:{cols:"6"}},[e("text-field",{attrs:{"hide-details":"auto",value:t.form.custom_profile_url,type:"text",topLabel:"Custom profile URL",disabled:""},on:{"update:value":function(e){return t.$set(t.form,"custom_profile_url",e)}}})],1),t._v(" "),t.errors?e(d.a,{attrs:{cols:"12"}},[e("Errors",{attrs:{errors:t.errors}})],1):t._e(),t._v(" "),e(d.a,{staticClass:"flex-center flex-column",attrs:{cols:"12"}},[e(r.a,{staticClass:"px-10 white--text mt-4",attrs:{loading:t.loading,type:"submit",color:"red"}},[t._v("\n                Save\n            ")])],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{TextField:n(824).default,SelectField:n(826).default,ComboxField:n(871).default,Errors:n(566).default,FormObserver:n(825).default})},824:function(t,e,n){"use strict";n.r(e);var r=n(100),l=(n(25),n(20),{props:{rules:{type:[Object],default:function(){return{}}},inputClass:{type:[String],default:""},topLabel:{type:[String],default:null},type:{type:[String],default:""},name:{type:[String],default:""},value:{type:[String,Array,Number,Boolean],default:null},suffix:{type:[String],default:""},prefix:{type:[String],default:""},filled:{type:[Boolean],default:!1},outlined:{type:[Boolean],default:!0},disabled:{type:[Boolean],default:!1},solo:{type:[Boolean],default:!1},appendIcon:{type:[String],default:""},backgroundColor:{type:[String],default:""},subLabel:{type:[String],default:""},supLabel:{type:[String],default:""},placeholder:{type:[String],default:""},label:{type:[String],default:""},isLoading:{type:[Boolean],default:!1},prependInnerIcon:{type:[String],default:""},vInputClass:{type:[String],default:""},errors:null},data:function(){return{initiatedAsPassword:!1,isReadOnly:!0}},computed:{isTypePassword:function(){return"password"===this.type},inputRules:function(){return this.disabled&&this.rules&&(this.rules.required=!1),this.rules},computedAppendIcon:function(){return this.initiatedAsPassword?("password"===this.type&&(t="fal fa-eye input-password"),"text"===this.type&&this.initiatedAsPassword&&(t="fal fa-eye-slash input-password"),t):this.appendIcon;var t}},created:function(){"password"===this.type&&(this.initiatedAsPassword=!0)},methods:{getRequiredStar:function(t){return this[t]&&this.rules&&this.rules.required?"".concat(this.$t(this[t])," *"):this.$t(this[t])},input:function(t){if("number"===this.type&&t)return this.$emit("update:value",parseInt(t));this.$emit("update:value",t),this.$emit("inputHandler",t)},enterClicked:function(){this.$emit("enterClicked")},click:function(){this.isTypePassword?(this.initiatedAsPassword=!0,this.$emit("update:type","text")):this.initiatedAsPassword&&this.$emit("update:type","password")}}}),o=n(44),component=Object(o.a)(l,(function(){var t=this,e=t._self._c;return e("ValidationProvider",{class:t.inputClass,attrs:{rules:t.rules,name:t.name},scopedSlots:t._u([{key:"default",fn:function(n){var l=n.errors;return[t.topLabel?e("label",{staticClass:"d-flex justify-space-between align-end mb-1 position-relative",staticStyle:{"font-size":"13px",color:"#ababab","font-weight":"500"}},[t._v("\n        "+t._s(t.getRequiredStar("topLabel"))+"\n\n    "),t._t("labelInner")],2):t._e(),t._v(" "),e(r.a,{staticClass:"mytexty-field",class:t.vInputClass,attrs:{value:t.value,"background-color":t.backgroundColor,readonly:!!t.isTypePassword&&t.isReadOnly,prefix:t.getRequiredStar("prefix"),suffix:t.$t(t.suffix),disabled:t.disabled,"append-icon":t.computedAppendIcon,"prepend-inner-icon":t.prependInnerIcon,"error-messages":l,"hide-details":"auto",dense:"",type:t.type,outlined:t.outlined,filled:t.filled,solo:t.solo,flat:"",placeholder:t.$t(t.placeholder),loading:t.isLoading},on:{"click:append":t.click,input:t.input,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.enterClicked.apply(null,arguments)},focus:function(e){t.isReadOnly=!1}},scopedSlots:t._u([{key:"append",fn:function(){return[t._t("appendInner")]},proxy:!0},{key:"prepend-inner",fn:function(){return[t._t("prependInner")]},proxy:!0}],null,!0)})]}}],null,!0)})}),[],!1,null,"28abe298",null);e.default=component.exports},825:function(t,e,n){"use strict";n.r(e);var r=n(829),l=n(28),o=(n(88),{props:{formClass:{type:[String],default:""}},methods:{reset:function(){this.$refs.validationObserver.reset()},validate:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.validationObserver.validate();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},submit:function(){this.$emit("submit")}}}),d=n(44),component=Object(d.a)(o,(function(){var t=this,e=t._self._c;return e("validation-observer",{ref:"validationObserver",staticClass:"observer-content",attrs:{tag:"div"},scopedSlots:t._u([{key:"default",fn:function(n){var l=n.passes;return[e(r.a,{class:t.formClass,on:{submit:function(e){return e.preventDefault(),l(t.submit)}}},[t._t("default")],2)]}}],null,!0)})}),[],!1,null,null,null);e.default=component.exports},826:function(t,e,n){"use strict";n.r(e);var r=n(253),l=n(793),o=(n(25),n(20),{props:{rules:{type:[Object],default:function(){return{}}},items:{type:[Array],default:function(){return[]}},inputClass:{type:[String],default:""},itemText:{type:[String],default:"name"},itemValue:{type:[String],default:"id"},vInputClass:{type:[String],default:""},type:{type:[String],default:""},name:{type:[String],default:""},value:{type:[String,Array,Number,Boolean,Object],default:null},suffix:{type:[String],default:""},prefix:{type:[String],default:""},disabled:{type:[Boolean],default:!1},multiple:{type:[Boolean],default:!1},returnObject:{type:[Boolean],default:!1},isClearable:{type:[Boolean],default:!1},outlined:{type:[Boolean],default:!0},filled:{type:[Boolean],default:!1},appendIcon:{type:[String],default:""},subLabel:{type:[String],default:""},supLabel:{type:[String],default:""},placeholder:{type:[String],default:""},isLoading:{type:[Boolean],default:null},hideDetails:{type:[Boolean,String],default:"auto"}},data:function(){return{truncateLength:3}},computed:{isTypePassword:function(){return"password"===this.type},inputRules:function(){return this.disabled&&this.rules&&(this.rules.required=!1),this.rules}},created:function(){"password"===this.type&&(this.initiatedAsPassword=!0)},methods:{getRequiredStar:function(t){return this[t]&&this.rules&&this.rules.required?"".concat(this.$t(this[t])," *"):this.$t(this[t])},input:function(t){if("number"===this.type&&t)return this.$emit("update:value",parseInt(t));this.$emit("update:value",t),this.$emit("hasChanged",t)},click:function(){this.isTypePassword?(this.initiatedAsPassword=!0,this.$emit("update:type","text")):this.initiatedAsPassword&&this.$emit("update:type","password")}}}),d=n(44),component=Object(d.a)(o,(function(){var t=this,e=t._self._c;return e("ValidationProvider",{class:t.inputClass,attrs:{rules:t.rules,name:t.name},scopedSlots:t._u([{key:"default",fn:function(n){var o=n.errors;return[t.supLabel?e("label",{staticClass:"d-block mb-1",staticStyle:{"font-size":"13px",color:"rgb(171, 171, 171)","font-weight":"500"}},[t._v("\n        "+t._s(t.getRequiredStar("supLabel"))+"\n    ")]):t._e(),t._v(" "),e(l.a,{staticClass:"fix-icon",class:t.vInputClass,attrs:{label:t.getRequiredStar("subLabel"),prefix:t.getRequiredStar("prefix"),placeholder:t.$t(t.placeholder),"return-object":t.returnObject,"error-messages":o,"item-value":t.itemValue,"item-text":t.itemText,suffix:t.$t(t.suffix),multiple:t.multiple,disabled:t.disabled,chips:t.multiple,value:t.value,items:t.items,"hide-details":t.hideDetails,outlined:t.outlined,filled:t.filled,loading:t.isLoading,flat:"",clearable:t.isClearable,dense:""},on:{input:t.input},scopedSlots:t._u([t.multiple?{key:"selection",fn:function(n){var l=n.index;return[l<t.truncateLength?e(r.a,[e("span",[t._v(t._s(t.value[l][t.itemText])+" ")])]):t._e(),t._v(" "),l===t.truncateLength?e("span",{staticClass:"text-caption custom"},[t._v("\n                "+t._s(t.$t("otherNum",{num:t.value.length-t.truncateLength}))+"\n            ")]):t._e()]}}:null,{key:"prepend-inner",fn:function(){return[t._t("prependInner")]},proxy:!0}],null,!0)})]}}])})}),[],!1,null,null,null);e.default=component.exports},871:function(t,e,n){"use strict";n.r(e);var r=n(253),l=n(908),o=(n(25),n(20),{props:{rules:{type:[Object],default:function(){return{}}},items:{type:[Array],default:function(){return[]}},inputClass:{type:[String],default:""},type:{type:[String],default:""},name:{type:[String],default:""},value:{type:[String,Array,Number,Boolean],default:null},suffix:{type:[String],default:""},prefix:{type:[String],default:""},disabled:{type:[Boolean],default:!1},multiple:{type:[Boolean],default:!1},appendIcon:{type:[String],default:""},subLabel:{type:[String],default:""},supLabel:{type:[String],default:""},placeholder:{type:[String],default:""}},data:function(){return{truncateLength:3}},computed:{isTypePassword:function(){return"password"===this.type},inputRules:function(){return this.disabled&&this.rules&&(this.rules.required=!1),this.rules}},created:function(){"password"===this.type&&(this.initiatedAsPassword=!0)},methods:{getRequiredStar:function(t){return this[t]&&this.rules&&this.rules.required?"".concat(this.$t(this[t])," *"):this.$t(this[t])},input:function(t){if("number"===this.type&&t)return this.$emit("update:value",parseInt(t));this.$emit("update:value",t)},click:function(){this.isTypePassword?(this.initiatedAsPassword=!0,this.$emit("update:type","text")):this.initiatedAsPassword&&this.$emit("update:type","password")}}}),d=n(44),component=Object(d.a)(o,(function(){var t=this,e=t._self._c;return e("ValidationProvider",{class:t.inputClass,attrs:{rules:t.rules,name:t.name},scopedSlots:t._u([{key:"default",fn:function(n){var o=n.errors;return[t.supLabel?e("label",{staticClass:"d-block mb-1"},[t._v("\n        "+t._s(t.getRequiredStar("supLabel"))+"\n    ")]):t._e(),t._v(" "),e(l.a,{attrs:{placeholder:t.$t(t.placeholder),prefix:t.getRequiredStar("prefix"),value:t.value,multiple:t.multiple,disabled:t.disabled,chips:t.multiple,"append-icon":t.appendIcon,"deletable-chips":t.multiple,"small-chips":t.multiple,suffix:t.$t(t.suffix),"error-messages":o,label:t.getRequiredStar("subLabel"),outlined:"",dense:"",items:t.items},on:{input:t.input},scopedSlots:t._u([t.multiple?{key:"selection",fn:function(n){var l=n.item,o=n.index;return[o<t.truncateLength?e(r.a,{attrs:{small:""}},[e("span",[t._v(t._s(l)+" ")])]):t._e(),t._v(" "),o===t.truncateLength?e("span",{staticClass:"text-caption custom"},[t._v("\n                "+t._s(t.$t("otherNum",{num:t.value.length-t.truncateLength}))+"\n            ")]):t._e()]}}:null],null,!0)})]}}])})}),[],!1,null,null,null);e.default=component.exports}}]);