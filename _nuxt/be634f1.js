(window.webpackJsonp=window.webpackJsonp||[]).push([[86,40,42],{1216:function(e,t,n){"use strict";n.r(t);var r=n(192),l=n(306),o=n(143),d=n(811),c=n(819),f=n(796),m=n(309),h=n(300),y=n(810),v=n(806),_=n(100),x=n(14),S=n(28),L=(n(88),n(25),n(6),n(8),n(171),n(20),n(35),n(39),{meta:{title:"Profile Settings"},layout:"dashboard",data:function(){return{delLangDialog:!1,delLoading:!1,cityLoader:null,timezones:Intl.supportedValuesOf("timeZone"),countries:[],cities:[],levels:["Basic","Conversational","Fluent","Native"],formLanguage:[{id:null,level:null}],form:{email:"",first_name:"",last_name:"",birthday:"",mobile:"",phone:{number:"",valid:!1,country:void 0},country:"",country_id:"",city:"",city_name:"",language:[{id:null,level:null}],timezone:"",custom_profile_url:""},menu1:!1,errors:null,loading:!1}},methods:{syncCity:function(e){this.form.city_name=e.name,console.log("syncCity says: city = ",e)},submit:function(){var e=this;return Object(S.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={email:e.form.email,first_name:e.form.first_name,last_name:e.form.last_name,birthday:e.form.birthday,mobile:e.form.mobile,country_id:e.form.country_id,city_name:e.form.city_name,timezone:e.form.timezone,language:[]},e.formLanguage.forEach((function(e){n.language.push({id:e.language_id,level:e.level})})),e.loading=!0,t.prev=3,t.next=6,e.$axios.post("teacher/profile/info",n);case 6:r=t.sent,e.$toasted.global.successMsg(r.data.message),console.log("saving data succeeded and response is = ",r),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),e.errors=e.catchException(t.t0);case 14:return t.prev=14,e.loading=!1,t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[3,11,14,17]])})))()},addLang:function(){this.formLanguage.push({id:"",level:""})},delLang:function(e){var t=this,n=this.formLanguage[e];this.delLoading=!0,this.$axios.$delete("/teacher/profile/teacher_language/".concat(n.id)).then((function(n){t.formLanguage.splice(e,1),t.$toasted.global.successMsg(n.data.message)})).catch((function(e){return t.errors=t.catchException(e)})).finally((function(){t.delLoading=!1,t.delLangDialog=!1}))},onInput:function(e,t){var n=t.number,r=t.valid,l=t.country;this.form.phone.number=n.international,this.form.mobile=Number(n.significant),this.form.phone.valid=r,this.form.phone.country=l&&l.name},getCities:function(e){var t=this;return Object(S.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.cityLoader=!0,n.prev=1,n.next=4,t.$axios.get("get/city?id=".concat(e));case 4:return r=n.sent,t.cities=r.data.object,t.cityLoader=!1,n.abrupt("return",r);case 10:n.prev=10,n.t0=n.catch(1),t.errors=t.catchException(n.t0);case 13:case"end":return n.stop()}}),n,null,[[1,10]])})))()}},asyncData:function(e){return Object(S.a)(regeneratorRuntime.mark((function t(){var n,r,l,o,d,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$axios,t.prev=1,t.next=4,Promise.all([n.get("get/country"),n.get("get/language")]);case 4:return r=t.sent,l=Object(x.a)(r,2),o=l[0],d=l[1],c=[],d.data.object.forEach((function(e){c.push(e)})),t.abrupt("return",{countries:o.data.object,langs:c});case 13:return t.prev=13,t.t0=t.catch(1),t.abrupt("return",t.t0);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})))()},fetch:function(){var e=this;this.$axios.get("teacher/profile/info").then((function(t){if(console.log("accountSettings.vue : fetch() says: response = ",t),console.log("accountSettings.vue : fetch() says: response.data.object.mobile = ",t.data.object.mobile),e.form={email:t.data.object.email,first_name:t.data.object.first_name,last_name:t.data.object.last_name,birthday:t.data.object.profile.birthday,phone:{number:"+"+t.data.object.mobile,valid:!0},mobile:t.data.object.mobile,country:t.data.object.profile.country_id,country_id:t.data.object.profile.country_id,city:null,city_name:t.data.object.profile.city_name,timezone:t.data.object.profile.timezone,custom_profile_url:t.data.object.slug},t.data.object.language.length>0?(e.formLanguage=[],t.data.object.language.forEach((function(t){e.formLanguage.push({id:t.id,language_id:t.language_id,level:t.level})}))):e.formLanguage=[{id:null,level:null}],t.data.object.profile.country_id)return e.getCities(t.data.object.profile.country_id)})).then((function(t){e.cities.forEach((function(t){t.name===e.form.city_name?(e.form.city=t,console.log("Success City is found and city = ",t)):console.log("Failed: City is not found and city = ",t)}))})).catch((function(t){e.errors=e.catchException(t)}))}}),C=n(44),component=Object(C.a)(L,(function(){var e=this,t=e._self._c;return t(l.a,{staticClass:"account_settings pa-4 content",attrs:{elevation:"1"}},[t("h1",{staticClass:"fs-24 font-weight-medium primary-text mb-10"},[e._v("General Information")]),e._v(" "),t("form-observer",{ref:"formObserver",staticClass:"white rounded",attrs:{"form-class":"row"},on:{submit:e.submit}},[t(d.a,{attrs:{cols:"4"}},[t("text-field",{attrs:{"hide-details":"auto",value:e.form.first_name,type:"text",rules:{required:!0,min:3},topLabel:"First Name"},on:{"update:value":function(t){return e.$set(e.form,"first_name",t)}}})],1),e._v(" "),t(d.a,{attrs:{cols:"4"}},[t("text-field",{attrs:{"hide-details":"auto",value:e.form.last_name,type:"text",rules:{required:!0,min:3},topLabel:"Last Name"},on:{"update:value":function(t){return e.$set(e.form,"last_name",t)}}})],1),e._v(" "),t(d.a,{attrs:{cols:"4"}},[t("text-field",{attrs:{"hide-details":"auto",value:e.form.email,type:"text",rules:{required:!0,email:!0},topLabel:"Email"},on:{"update:value":function(t){return e.$set(e.form,"email",t)}}})],1),e._v(" "),t(d.a,{attrs:{cols:"6"}},[t("label",{staticClass:"mb-1 d-block fs-13"},[e._v("Date of Birth")]),e._v(" "),t(h.a,{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(n){var r=n.on,l=n.attrs;return[t(_.a,e._g(e._b({staticClass:"pt-0",attrs:{readonly:"",outlined:"","hide-details":""},model:{value:e.form.birthday,callback:function(t){e.$set(e.form,"birthday",t)},expression:"form.birthday"}},"v-text-field",l,!1),r))]}}]),model:{value:e.menu1,callback:function(t){e.menu1=t},expression:"menu1"}},[e._v(" "),t(c.a,{on:{input:function(t){e.menu1=!1}},model:{value:e.form.birthday,callback:function(t){e.$set(e.form,"birthday",t)},expression:"form.birthday"}})],1)],1),e._v(" "),t(d.a,{attrs:{cols:"6"}},[t("label",{staticClass:"mb-1 d-block fs-13"},[e._v("Mobile Number (optional, +5pt)")]),e._v(" "),t("vue-tel-input-vuetify",{attrs:{label:"",value:e.form.phone.number,"valid-characters-only":!0},on:{input:e.onInput}})],1),e._v(" "),t(d.a,{attrs:{cols:"3"}},[t("label",{staticClass:"mb-1 d-block fs-13",attrs:{for:""}},[e._v("Country")]),e._v(" "),t("select-field",{attrs:{value:e.form.country_id,rules:{required:!0},items:e.countries},on:{"update:value":function(t){return e.$set(e.form,"country_id",t)},hasChanged:function(t){return e.getCities(t)}}})],1),e._v(" "),t(d.a,{attrs:{cols:"3"}},[t("label",{staticClass:"mb-1 d-block fs-13",attrs:{for:""}},[e._v("City")]),e._v(" "),t("select-field",{attrs:{value:e.form.city,rules:{required:!0},items:e.cities,isLoading:e.cityLoader,returnObject:!0},on:{"update:value":function(t){return e.$set(e.form,"city",t)},hasChanged:function(t){return e.syncCity(t)}}})],1),e._v(" "),t(d.a,{attrs:{cols:"6"}},e._l(e.formLanguage,(function(n,c){return t(y.a,{key:"lang-".concat(n.id)},[t(d.a,{attrs:{cols:"6"}},[t("label",{staticClass:"mb-1 d-block fs-13",attrs:{for:""}},[e._v("Languages Spoken")]),e._v(" "),t("select-field",{attrs:{value:n.language_id,rules:{required:!0},items:e.langs,itemText:"language_name"},on:{"update:value":function(t){return e.$set(n,"language_id",t)}}})],1),e._v(" "),t(d.a,[t("label",{staticClass:"mb-1 d-block fs-13",attrs:{for:""}},[e._v("Level")]),e._v(" "),t("select-field",{attrs:{value:n.level,rules:{required:!0},items:e.levels},on:{"update:value":function(t){return e.$set(n,"level",t)}}})],1),e._v(" "),c>0?t(d.a,{staticClass:"d-flex align-center",staticStyle:{"margin-top":"13px"},attrs:{cols:"1"}},[t(r.a,{attrs:{icon:""},on:{click:function(t){e.delLangDialog=!0}}},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-xmark"}})],1)],1):e._e(),e._v(" "),t(f.a,{attrs:{width:"500"},model:{value:e.delLangDialog,callback:function(t){e.delLangDialog=t},expression:"delLangDialog"}},[t(l.a,[t(o.d,{staticClass:"text-h5 lighten-2"},[e._v("\n                            Are you sure you want to delete this Language ?\n                        ")]),e._v(" "),t(o.c,[e._v("\n                            This will delete this post permanently. You cannot undo this action.\n                        ")]),e._v(" "),t(m.a),e._v(" "),t(o.a,[t(v.a),e._v(" "),t(r.a,{attrs:{color:"secondary",loading:e.delLoading},on:{click:function(t){return e.delLang(c)}}},[e._v("\n                                Delete\n                            ")]),e._v(" "),t(r.a,{attrs:{outlined:""},on:{click:function(t){e.dialog=!1}}},[e._v("\n                                Cancel\n                            ")])],1)],1)],1)],1)})),1),e._v(" "),t(d.a,{attrs:{cols:"12"}},[t(r.a,{staticClass:"d-block ml-auto",attrs:{text:"",color:"primary"},on:{click:function(t){return e.addLang()}}},[e._v("\n                Add another language\n            ")])],1),e._v(" "),t(d.a,{attrs:{cols:"6"}},[t("label",{staticClass:"mb-1 d-block fs-13 font-weight-medium",attrs:{for:""}},[e._v("Time Zone")]),e._v(" "),t("combox-field",{attrs:{value:e.form.timezone,rules:{tzValidator:e.timezones},items:e.timezones},on:{"update:value":function(t){return e.$set(e.form,"timezone",t)}}})],1),e._v(" "),t(d.a,{attrs:{cols:"6"}},[t("text-field",{attrs:{"hide-details":"auto",value:e.form.custom_profile_url,type:"text",topLabel:"Custom profile URL",disabled:""},on:{"update:value":function(t){return e.$set(e.form,"custom_profile_url",t)}}})],1),e._v(" "),e.errors?t(d.a,{attrs:{cols:"12"}},[t("Errors",{attrs:{errors:e.errors}})],1):e._e(),e._v(" "),t(d.a,{staticClass:"flex-center flex-column",attrs:{cols:"12"}},[t(r.a,{staticClass:"px-10 white--text mt-4",attrs:{loading:e.loading,type:"submit",color:"red"}},[e._v("\n                Save\n            ")])],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{TextField:n(824).default,SelectField:n(826).default,ComboxField:n(871).default,Errors:n(566).default,FormObserver:n(825).default})},824:function(e,t,n){"use strict";n.r(t);var r=n(100),l=(n(25),n(20),{props:{rules:{type:[Object],default:function(){return{}}},inputClass:{type:[String],default:""},topLabel:{type:[String],default:null},type:{type:[String],default:""},name:{type:[String],default:""},value:{type:[String,Array,Number,Boolean],default:null},suffix:{type:[String],default:""},prefix:{type:[String],default:""},filled:{type:[Boolean],default:!1},outlined:{type:[Boolean],default:!0},disabled:{type:[Boolean],default:!1},solo:{type:[Boolean],default:!1},appendIcon:{type:[String],default:""},backgroundColor:{type:[String],default:""},subLabel:{type:[String],default:""},supLabel:{type:[String],default:""},placeholder:{type:[String],default:""},label:{type:[String],default:""},isLoading:{type:[Boolean],default:!1},prependInnerIcon:{type:[String],default:""},vInputClass:{type:[String],default:""},errors:null},data:function(){return{initiatedAsPassword:!1,isReadOnly:!0}},computed:{isTypePassword:function(){return"password"===this.type},inputRules:function(){return this.disabled&&this.rules&&(this.rules.required=!1),this.rules},computedAppendIcon:function(){return this.initiatedAsPassword?("password"===this.type&&(e="fal fa-eye input-password"),"text"===this.type&&this.initiatedAsPassword&&(e="fal fa-eye-slash input-password"),e):this.appendIcon;var e}},created:function(){"password"===this.type&&(this.initiatedAsPassword=!0)},methods:{getRequiredStar:function(e){return this[e]&&this.rules&&this.rules.required?"".concat(this.$t(this[e])," *"):this.$t(this[e])},input:function(e){if("number"===this.type&&e)return this.$emit("update:value",parseInt(e));this.$emit("update:value",e),this.$emit("inputHandler",e)},enterClicked:function(){this.$emit("enterClicked")},click:function(){this.isTypePassword?(this.initiatedAsPassword=!0,this.$emit("update:type","text")):this.initiatedAsPassword&&this.$emit("update:type","password")}}}),o=n(44),component=Object(o.a)(l,(function(){var e=this,t=e._self._c;return t("ValidationProvider",{class:e.inputClass,attrs:{rules:e.rules,name:e.name},scopedSlots:e._u([{key:"default",fn:function(n){var l=n.errors;return[e.topLabel?t("label",{staticClass:"d-flex justify-space-between align-end mb-1 position-relative",staticStyle:{"font-size":"13px",color:"#ababab","font-weight":"500"}},[e._v("\n        "+e._s(e.getRequiredStar("topLabel"))+"\n\n    "),e._t("labelInner")],2):e._e(),e._v(" "),t(r.a,{staticClass:"mytexty-field",class:e.vInputClass,attrs:{value:e.value,"background-color":e.backgroundColor,readonly:!!e.isTypePassword&&e.isReadOnly,prefix:e.getRequiredStar("prefix"),suffix:e.$t(e.suffix),disabled:e.disabled,"append-icon":e.computedAppendIcon,"prepend-inner-icon":e.prependInnerIcon,"error-messages":l,"hide-details":"auto",dense:"",type:e.type,outlined:e.outlined,filled:e.filled,solo:e.solo,flat:"",placeholder:e.$t(e.placeholder),loading:e.isLoading},on:{"click:append":e.click,input:e.input,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.enterClicked.apply(null,arguments)},focus:function(t){e.isReadOnly=!1}},scopedSlots:e._u([{key:"append",fn:function(){return[e._t("appendInner")]},proxy:!0},{key:"prepend-inner",fn:function(){return[e._t("prependInner")]},proxy:!0}],null,!0)})]}}],null,!0)})}),[],!1,null,"28abe298",null);t.default=component.exports},825:function(e,t,n){"use strict";n.r(t);var r=n(829),l=n(28),o=(n(88),{props:{formClass:{type:[String],default:""}},methods:{reset:function(){this.$refs.validationObserver.reset()},validate:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.validationObserver.validate();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},submit:function(){this.$emit("submit")}}}),d=n(44),component=Object(d.a)(o,(function(){var e=this,t=e._self._c;return t("validation-observer",{ref:"validationObserver",staticClass:"observer-content",attrs:{tag:"div"},scopedSlots:e._u([{key:"default",fn:function(n){var l=n.passes;return[t(r.a,{class:e.formClass,on:{submit:function(t){return t.preventDefault(),l(e.submit)}}},[e._t("default")],2)]}}],null,!0)})}),[],!1,null,null,null);t.default=component.exports},826:function(e,t,n){"use strict";n.r(t);var r=n(253),l=n(793),o=(n(25),n(20),{props:{rules:{type:[Object],default:function(){return{}}},items:{type:[Array],default:function(){return[]}},inputClass:{type:[String],default:""},itemText:{type:[String],default:"name"},itemValue:{type:[String],default:"id"},vInputClass:{type:[String],default:""},type:{type:[String],default:""},name:{type:[String],default:""},value:{type:[String,Array,Number,Boolean,Object],default:null},suffix:{type:[String],default:""},prefix:{type:[String],default:""},disabled:{type:[Boolean],default:!1},multiple:{type:[Boolean],default:!1},returnObject:{type:[Boolean],default:!1},isClearable:{type:[Boolean],default:!1},outlined:{type:[Boolean],default:!0},filled:{type:[Boolean],default:!1},appendIcon:{type:[String],default:""},subLabel:{type:[String],default:""},supLabel:{type:[String],default:""},placeholder:{type:[String],default:""},isLoading:{type:[Boolean],default:null},hideDetails:{type:[Boolean,String],default:"auto"}},data:function(){return{truncateLength:3}},computed:{isTypePassword:function(){return"password"===this.type},inputRules:function(){return this.disabled&&this.rules&&(this.rules.required=!1),this.rules}},created:function(){"password"===this.type&&(this.initiatedAsPassword=!0)},methods:{getRequiredStar:function(e){return this[e]&&this.rules&&this.rules.required?"".concat(this.$t(this[e])," *"):this.$t(this[e])},input:function(e){if("number"===this.type&&e)return this.$emit("update:value",parseInt(e));this.$emit("update:value",e),this.$emit("hasChanged",e)},click:function(){this.isTypePassword?(this.initiatedAsPassword=!0,this.$emit("update:type","text")):this.initiatedAsPassword&&this.$emit("update:type","password")}}}),d=n(44),component=Object(d.a)(o,(function(){var e=this,t=e._self._c;return t("ValidationProvider",{class:e.inputClass,attrs:{rules:e.rules,name:e.name},scopedSlots:e._u([{key:"default",fn:function(n){var o=n.errors;return[e.supLabel?t("label",{staticClass:"d-block mb-1",staticStyle:{"font-size":"13px",color:"rgb(171, 171, 171)","font-weight":"500"}},[e._v("\n        "+e._s(e.getRequiredStar("supLabel"))+"\n    ")]):e._e(),e._v(" "),t(l.a,{staticClass:"fix-icon",class:e.vInputClass,attrs:{label:e.getRequiredStar("subLabel"),prefix:e.getRequiredStar("prefix"),placeholder:e.$t(e.placeholder),"return-object":e.returnObject,"error-messages":o,"item-value":e.itemValue,"item-text":e.itemText,suffix:e.$t(e.suffix),multiple:e.multiple,disabled:e.disabled,chips:e.multiple,value:e.value,items:e.items,"hide-details":e.hideDetails,outlined:e.outlined,filled:e.filled,loading:e.isLoading,flat:"",clearable:e.isClearable,dense:""},on:{input:e.input},scopedSlots:e._u([e.multiple?{key:"selection",fn:function(n){var l=n.index;return[l<e.truncateLength?t(r.a,[t("span",[e._v(e._s(e.value[l][e.itemText])+" ")])]):e._e(),e._v(" "),l===e.truncateLength?t("span",{staticClass:"text-caption custom"},[e._v("\n                "+e._s(e.$t("otherNum",{num:e.value.length-e.truncateLength}))+"\n            ")]):e._e()]}}:null,{key:"prepend-inner",fn:function(){return[e._t("prependInner")]},proxy:!0}],null,!0)})]}}])})}),[],!1,null,null,null);t.default=component.exports},871:function(e,t,n){"use strict";n.r(t);var r=n(253),l=n(908),o=(n(25),n(20),{props:{rules:{type:[Object],default:function(){return{}}},items:{type:[Array],default:function(){return[]}},inputClass:{type:[String],default:""},type:{type:[String],default:""},name:{type:[String],default:""},value:{type:[String,Array,Number,Boolean],default:null},suffix:{type:[String],default:""},prefix:{type:[String],default:""},disabled:{type:[Boolean],default:!1},multiple:{type:[Boolean],default:!1},appendIcon:{type:[String],default:""},subLabel:{type:[String],default:""},supLabel:{type:[String],default:""},placeholder:{type:[String],default:""}},data:function(){return{truncateLength:3}},computed:{isTypePassword:function(){return"password"===this.type},inputRules:function(){return this.disabled&&this.rules&&(this.rules.required=!1),this.rules}},created:function(){"password"===this.type&&(this.initiatedAsPassword=!0)},methods:{getRequiredStar:function(e){return this[e]&&this.rules&&this.rules.required?"".concat(this.$t(this[e])," *"):this.$t(this[e])},input:function(e){if("number"===this.type&&e)return this.$emit("update:value",parseInt(e));this.$emit("update:value",e)},click:function(){this.isTypePassword?(this.initiatedAsPassword=!0,this.$emit("update:type","text")):this.initiatedAsPassword&&this.$emit("update:type","password")}}}),d=n(44),component=Object(d.a)(o,(function(){var e=this,t=e._self._c;return t("ValidationProvider",{class:e.inputClass,attrs:{rules:e.rules,name:e.name},scopedSlots:e._u([{key:"default",fn:function(n){var o=n.errors;return[e.supLabel?t("label",{staticClass:"d-block mb-1"},[e._v("\n        "+e._s(e.getRequiredStar("supLabel"))+"\n    ")]):e._e(),e._v(" "),t(l.a,{attrs:{placeholder:e.$t(e.placeholder),prefix:e.getRequiredStar("prefix"),value:e.value,multiple:e.multiple,disabled:e.disabled,chips:e.multiple,"append-icon":e.appendIcon,"deletable-chips":e.multiple,"small-chips":e.multiple,suffix:e.$t(e.suffix),"error-messages":o,label:e.getRequiredStar("subLabel"),outlined:"",dense:"",items:e.items},on:{input:e.input},scopedSlots:e._u([e.multiple?{key:"selection",fn:function(n){var l=n.item,o=n.index;return[o<e.truncateLength?t(r.a,{attrs:{small:""}},[t("span",[e._v(e._s(l)+" ")])]):e._e(),e._v(" "),o===e.truncateLength?t("span",{staticClass:"text-caption custom"},[e._v("\n                "+e._s(e.$t("otherNum",{num:e.value.length-e.truncateLength}))+"\n            ")]):e._e()]}}:null],null,!0)})]}}])})}),[],!1,null,null,null);t.default=component.exports}}]);